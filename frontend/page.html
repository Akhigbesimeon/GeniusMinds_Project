<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Choose Your Learning Mode</title>
    <link rel="stylesheet" href="assets/css/quiz.css">
</head>
<body>
    <div class="container">
        <h1>Choose Your Learning Mode</h1>
        <div class="buttons">
            <button id="quizGameBtn" type="button">📌 Quiz Games</button>
            <button id="flashcardsBtn" onclick="location.href='flashcards.html'">📖 Flashcards</button>
            <button id="puzzlesBtn" onclick="location.href='puzzles.html'">🧩 Puzzles & Riddles</button>
        </div>
    </div>

    <!-- Quiz Modal for Subject Selection -->
    <div id="quizModal" class="modal">
        <div class="modal-content">
            <h2>Select a Subject</h2>
            <button class="subjectBtn" data-subject="math">🧮 Math</button>
            <button class="subjectBtn" data-subject="english">📚 English</button>
            <button class="subjectBtn" data-subject="science">🔬 Science</button>
            <button class="subjectBtn" data-subject="general">🌍 General Knowledge</button>
            <button class="close-modal">❌ Close</button>
        </div>
    </div>

    <!-- Difficulty Level Modal -->
    <div id="difficultyModal" class="modal">
        <div class="modal-content">
            <h2>Select Difficulty</h2>
            <button class="difficultyBtn" data-difficulty="easy">🟢 Easy</button>
            <button class="difficultyBtn" data-difficulty="medium">🟡 Medium</button>
            <button class="difficultyBtn" data-difficulty="hard">🔴 Hard</button>
            <button class="close-modal"> Close</button>
        </div>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const quizGameBtn = document.getElementById("quizGameBtn");
            const quizModal = document.getElementById("quizModal");
            const difficultyModal = document.getElementById("difficultyModal");
            const closeModalBtns = document.querySelectorAll(".close-modal");
            
            let selectedSubject = "";

            // Open subject selection modal
            quizGameBtn.addEventListener("click", () => {
                quizModal.style.display = "flex";
            });

            // Handle subject selection
            document.querySelectorAll(".subjectBtn").forEach(btn => {
                btn.addEventListener("click", function() {
                    selectedSubject = this.getAttribute("data-subject");
                    quizModal.style.display = "none"; // Hide subject modal
                    difficultyModal.style.display = "flex"; // Show difficulty modal
                });
            });

            // Handle difficulty selection and navigate to quiz.html
            document.querySelectorAll(".difficultyBtn").forEach(btn => {
                btn.addEventListener("click", function() {
                    let selectedDifficulty = this.getAttribute("data-difficulty");
                    window.location.href = quiz.html?subject=${selectedSubject}&difficulty=${selectedDifficulty};
                });
            });

            // Close modals when clicking the close button
            closeModalBtns.forEach(btn => {
                btn.addEventListener("click", () => {
                    quizModal.style.display = "none";
                    difficultyModal.style.display = "none";
                });
            });

            // Close modals when clicking outside the content
            window.onclick = function(event) {
                if (event.target === quizModal) quizModal.style.display = "none";
                if (event.target === difficultyModal) difficultyModal.style.display = "none";
            };
        });
    </script>
</body>
</html>